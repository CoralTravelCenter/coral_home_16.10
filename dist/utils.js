function u(e,i,r){r.dataset.inserted||(r.insertAdjacentHTML(e,i),r.setAttribute("inserted",!0))}function m(e){return e.replace(/&nbsp;/g,"").replace(/&mdash;/g,"").replace(/<br\s*\/?>/g,"").trim()}function d(e){const i=e.activeIndex,r=e.slides;[i,i-1,i+1].forEach(s=>{if(s>=0&&s<r.length){const o=r[s].firstChild.children[1];if(!o)return;const n=o.querySelector("img");n&&n.hasAttribute("data-src")&&(n.src=n.getAttribute("data-src"),n.style.visibility="visible",n.classList.remove("lazy-image"),n.removeAttribute("data-src"))}})}function v(e,i={}){return{...{slidesPerView:1,spaceBetween:0,loop:!0,navigation:{prevEl:`${e} .slider-bnt-prev`,nextEl:`${e} .slider-bnt-next`},pagination:{clickable:!0},on:{init:t=>d(t),slideChange:t=>d(t)}},...i}}async function p(e){return new Promise((i,r)=>{const t=document.createElement("script");t.addEventListener("load",()=>{t.remove(),i()}),t.addEventListener("error",()=>{t.remove(),r(new Error("Failed to load script: "+e))}),t.src=e,document.body.append(t)})}async function y(e={}){const i=document.querySelectorAll(".vimeo-video-box [data-vimeo-vid]");if(!i.length)return;let r=!1;const t=new IntersectionObserver(async(s,l)=>{var o;for(const n of s){const a=n.target;if(n.isIntersecting){if(!r)try{await p("https://player.vimeo.com/api/player.js"),r=!0}catch(c){console.error(c),l.disconnect();return}if(!a["vimeo-player"]){const c=new Vimeo.Player(a,{id:a.dataset.vimeoVid,background:1,playsinline:1,autopause:0,title:0,byline:0,portrait:0,autoplay:1,muted:1});a["vimeo-player"]=c,c.on("play",function(){this.element.parentElement.classList.add("playback")}),c.on("ended",function(){this.element.parentElement.classList.remove("playback")})}a["vimeo-player"].play()}else(o=a["vimeo-player"])==null||o.pause()}},Object.assign({},{threshold:.33},e));i.forEach(s=>t.observe(s))}export{m as c,u as i,v as s,y as v};
